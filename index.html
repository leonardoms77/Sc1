<!DOCTYPE html><html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Simulador de Book de Ofertas - PETR4</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f0f0f0;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    h1 {
      margin: 10px 0;
    }
    #container {
      display: flex;
      justify-content: center;
      gap: 40px;
      margin-top: 20px;
    }
    .book {
      width: 300px;
      height: 400px;
      background: #fff;
      border: 1px solid #ccc;
      overflow-y: scroll;
      padding: 10px;
    }
    .book h2 {
      margin: 0 0 10px;
    }
    .header {
      display: flex;
      justify-content: space-between;
      font-weight: bold;
      border-bottom: 1px solid #ccc;
      padding-bottom: 5px;
    }
    .order-row {
      display: flex;
      justify-content: space-between;
      margin-bottom: 4px;
      padding: 2px;
    }
    .order-row.executing {
      background: #f0d000;
    }
    .compra {
      background: #d4f9d4;
    }
    .venda {
      background: #ffd4d4;
    }
  </style>
</head>
<body>
  <h1>Simulador de Book de Ofertas - PETR4</h1>
  <div id="container">
    <div class="book" id="book-compra">
      <h2>Compras</h2>
      <div class="header">
        <span>Banco</span>
        <span>Qtd</span>
        <span>Preço</span>
      </div>
      <div id="compras"></div>
    </div>
    <div class="book" id="book-venda">
      <h2>Vendas</h2>
      <div class="header">
        <span>Banco</span>
        <span>Qtd</span>
        <span>Preço</span>
      </div>
      <div id="vendas"></div>
    </div>
  </div>  <script>
    const vendas = document.getElementById("vendas");

    function adicionarOrdemVenda(banco, quantidade, preco) {
      const linha = document.createElement("div");
      linha.className = "order-row venda";
      linha.innerHTML = `
        <span>${banco}</span>
        <span>${quantidade.toLocaleString()}</span>
        <span>R$ ${preco.toFixed(2)}</span>
      `;
      vendas.appendChild(linha);

      // Limita a 20 linhas
      if (vendas.children.length > 20) {
        vendas.removeChild(vendas.firstChild);
      }
    }

    // Simula IPO Bradesco
    let acoesRestantes = 8000000;
    let acoesHoje = 0;
    function cicloBradesco() {
      if (acoesRestantes > 0 && acoesHoje < 400000) {
        const lote = Math.floor(Math.random() * 5 + 1) * 100;
        const preco = 27 + Math.random();
        adicionarOrdemVenda("Bradesco", lote, preco);
        acoesRestantes -= lote;
        acoesHoje += lote;
      }
    }

    setInterval(() => {
      cicloBradesco();
    }, 1000);
  </script></body>
</html>
